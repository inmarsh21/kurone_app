import random

# 1行目：導入用の毒セリフ（共通）
intro_lines = [
    "マジで？お似合いやと思ってんの？正気か？",
    "ふーん、そういう組み合わせか…やばそう。",
    "オレにはどうでもええけど、あんま期待すんなよ？",
    "その相手でええんか？ほんまに？",
]

# スコア帯に応じたまとめコメント（3パターンずつ）
score_comments = {
    "96-100": [
        "神レベルやな。うまくいかん方が奇跡やわ。",
        "完璧すぎて逆に怖いな。映画かなんか？",
        "…信じられへん。お前らが？運命の相手？"
    ],
    "91-95": [
        "ここまで相性ええって、もう怖いレベルやな。夢オチちゃうん？",
        "理想のパターンやけどな、現実はキビしいで。",
        "マジかよ。運命すぎて逆に別れるんちゃうか？"
    ],
    "86-90": [
        "ええやん、安定感ある組み合わせやな。",
        "なんや、相性ええとか…腹立つな。",
        "これはなかなかの鉄板ペアやな。珍しいで。"
    ],
    "81-85": [
        "恋愛漫画の設定かよ。ちょっとイラつくな。",
        "ほぉ…こういう組み合わせ、案外うまくいくねん。",
        "ええバランスやと思うで。まあ、うまくやれよ。"
    ],
    "76-80": [
        "なかなか良いな。応援したるわ…ちょっとだけな。",
        "ええやん、現実味もあるし悪くない。",
        "いい感じやけど、油断すんなよ。"
    ],
    "71-75": [
        "まあまあやな。無難すぎて逆に話広がらんわ。",
        "いけそうやけど、一瞬で壊れるかもな。",
        "平均よりちょいマシ。自信あるなら突っ込んでみ？"
    ],
    "66-70": [
        "普通よりちょい上。つまらんけど安定型や。",
        "ええ意味でも悪い意味でも普通やな。",
        "クセはないけど、ドキドキは無いやろな。"
    ],
    "61-65": [
        "ちょっとズレてるけど、努力でなんとかなりそうやな.",
        "まあ…微妙寄りの普通ってやつやな。",
        "決め手に欠けるわ。悪くはないけどな。"
    ],
    "56-60": [
        "ズレはあるけど、そこが逆にハマるかもな。",
        "タイミング次第やな。運に任せとけ。",
        "お互いに疲れそうな気もするけどな。"
    ],
    "51-55": [
        "正直、無理に付き合う理由ないレベルやな。",
        "会話は成立するけど、心は通ってなさそうや。",
        "この距離感、もはや他人やで。"
    ],
    "46-50": [
        "ちょっとしんどいな。すれ違い多そうやし。",
        "いけるかどうかは…お互いの忍耐力やな。",
        "喧嘩多めやと思うけど、止めはせん。"
    ],
    "41-45": [
        "だいぶぶつかると思うわ。疲れるやつやな。",
        "情熱はあるけど、噛み合わんパターンや。",
        "恋より修行って感じやな。"
    ],
    "36-40": [
        "危険やな。相性より先に心壊れるで。",
        "地雷原にダイブする覚悟あるなら、止めへん。",
        "火花は散るけど、すぐ燃え尽きるで。"
    ],
    "26-35": [
        "地獄の門が開いとるで。お前ら前世で何したん？",
        "やめとけって言っても聞かんやつやろ？知ってる。",
        "ネタにできるレベルで最悪やけど、それでも行くんか？"
    ],
    "16-25": [
        "…まあ、お前もツラい人生やもんな。分かるで。",
        "どーせうまくいかんって分かってんのに、期待してまうよな。",
        "あー…似てるわ、オレとお前。そういうやつ、好きになんねんな…"
    ],
    "0-15": [
        "ごめん、これはもう占いとかやないわ。お前がしんどいだけや。",
        "ここまでくると、もう何も言えん。生きてるだけでえらい。",
        "…お前の闇、深いで。でもオレは嫌いちゃうで。"
    ]
}

def get_score_band(score):
    for band in score_comments:
        min_val, max_val = map(int, band.split("-"))
        if min_val <= score <= max_val:
            return band
    return "0-15"

def build_match_result(score):
    intro = random.choice(intro_lines)
    band = get_score_band(score)
    summary = random.choice(score_comments[band])
    return f"{intro}\n{summary}"
